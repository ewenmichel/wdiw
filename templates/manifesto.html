<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Manifesto</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&display=swap');
        @font-face {
            font-family: 'realifefont';
            src: url('/static/fonts/realife_font.ttf') format('truetype');
            font-display: swap;
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            background: #000;
            color: #eaeaea;
            font-family: 'Inter', sans-serif;
            min-height: 100vh;
            overflow-x: hidden;
        }
        .fade-bg {
            position: fixed;
            inset: 0;
            background: radial-gradient(120% 120% at 50% 50%, rgba(0,0,0,0.92) 0%, rgba(0,0,0,1) 60%, rgba(0,0,0,1) 100%);
            animation: fadeIn 550ms ease forwards;
        }
        .vignette:before {
            content: '';
            position: absolute;
            inset: -10%;
            pointer-events: none;
            background: radial-gradient(130% 130% at 50% 50%, rgba(0,0,0,0) 40%, rgba(0,0,0,0.35) 70%, rgba(0,0,0,0.85) 100%);
            filter: blur(8px);
        }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        .container {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
            padding: 48px 32px 64px 32px;
        }
        .topbar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 28px;
        }
        .brand {
            font-size: 18px;
            color: #aaa;
            letter-spacing: 0.18em;
        }
        .back {
            color: #fff;
            background: transparent;
            border: 1px solid rgba(255,255,255,0.18);
            border-radius: 10px;
            padding: 8px 14px;
            text-decoration: none;
            transition: background 0.2s ease, border-color 0.2s ease;
        }
        .back:hover { background: rgba(255,255,255,0.06); border-color: rgba(255,255,255,0.35); }
        .title {
            font-family: 'realifefont', 'Inter', sans-serif;
            font-size: clamp(36px, 6vw, 64px);
            color: #fff;
            letter-spacing: 0.06em;
            margin-bottom: 12px;
            animation: fadeUp 700ms ease both;
            position: relative;
        }
        .title-wrap { 
            position: relative; 
            display: inline-block; 
            z-index: 1; 
        }
        
        /* FIXED CRYSTAL POSITIONING - They will never move! */
        .crystal-container {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
        }
        
        .crystal {
            position: absolute;
            width: 18px;
            height: auto;
            opacity: 0.9;
            filter: drop-shadow(0 4px 10px rgba(255,255,255,0.1));
            animation: mfFloat 6s ease-in-out infinite;
            /* CRITICAL: These positions are now relative to the title container, not viewport */
        }
        
        .crystal svg, .crystal img {
            width: 100%;
            height: auto;
            display: block;
        }
        
        @keyframes mfFloat {
            0%, 100% { transform: translateY(0px) scale(var(--s, 1)); }
            50% { transform: translateY(-10px) scale(var(--s, 1)); }
        }
        @keyframes fadeUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .subtitle {
            color: #9a9a9a;
            letter-spacing: 0.12em;
            font-size: 14px;
            margin-bottom: 40px;
            font-weight: 300;
        }
        .content {
            color: #ffffff;
            line-height: 1.8;
            font-weight: 300;
            font-size: 16px;
            animation: fadeUp 900ms ease both;
        }
        .content p { 
            margin-bottom: 1.5rem; 
        }
        .content strong {
            color: #ffffff;
            font-weight: 500;
            letter-spacing: 0.01em;
        }
        .content em {
            color: #cccccc;
            font-style: italic;
            font-weight: 300;
        }
        .footer-note {
            color: #777;
            font-size: 13px;
            margin-top: 32px;
            letter-spacing: 0.08em;
            font-weight: 300;
        }
        
        /* Typography improvements */
        .content p:first-child strong {
            font-size: 18px;
            display: block;
            margin-bottom: 8px;
        }
        
        /* Subtle emphasis for key sections */
        .content p:nth-child(5) strong,
        .content p:nth-child(11) strong {
            color: #f8f8f8;
        }
        
        /* Better spacing for axioms section */
        .content p:nth-child(6) {
            margin-top: 2rem;
        }
        
        /* Final call-to-action styling */
        .content p:nth-last-child(3) strong {
            font-size: 17px;
            color: #ffffff;
        }
        
        .content p:nth-last-child(2),
        .content p:last-child {
            margin-top: 2rem;
            text-align: center;
        }
    </style>
    <script>
        // Function to spawn and position crystals - FIXED VERSION
        async function spawnCrystalsFixed() {
            const title = document.querySelector('.title');
            if (!title) return;
            
            // Check if crystals already exist to prevent duplicates
            if (title.querySelector('.crystal-container')) {
                return;
            }
            
            // Create container that's positioned relative to the title
            const crystalContainer = document.createElement('div');
            crystalContainer.className = 'crystal-container';
            title.appendChild(crystalContainer);
    
            const available = [1, 2, 3, 5, 8, 9, 10, 15, 17, 18, 19];
            const count = 3 + Math.floor(Math.random() * 2); // 3 or 4
            const chosen = [];
            while (chosen.length < count) {
                const n = available[Math.floor(Math.random() * available.length)];
                if (!chosen.includes(n)) chosen.push(n);
            }
    
            // Fixed positions relative to title (these will NEVER change)
            const positions = [
                { left: '25%', top: '10%' },
                { left: '75%', top: '20%' },
                { left: '10%', top: '60%' },
                { left: '85%', top: '70%' }
            ];
    
            for (let i = 0; i < chosen.length; i++) {
                const num = chosen[i];
                const crystal = document.createElement('div');
                crystal.className = 'crystal';
                
                // FIXED POSITIONING - these percentages are relative to the title, never change
                crystal.style.left = positions[i].left;
                crystal.style.top = positions[i].top;
                crystal.style.setProperty('--s', `${1.035 + Math.random() * 0.345}`);
                crystal.style.animationDelay = `${Math.random() * 2}s`;
                crystal.style.animationDuration = `${5 + Math.random() * 4}s`;
                
                try {
                    // Try to load SVG
                    const res = await fetch(`/static/crystals/svgs/crystal-${num}.svg`);
                    if (res.ok) {
                        const svgText = await res.text();
                        const wrapper = document.createElement('div');
                        wrapper.innerHTML = svgText;
                        const svg = wrapper.querySelector('svg');
                        if (svg) {
                            if (!svg.getAttribute('viewBox')) {
                                const wAttr = parseFloat(svg.getAttribute('width')) || 1000;
                                const hAttr = parseFloat(svg.getAttribute('height')) || 1000;
                                svg.setAttribute('viewBox', `0 0 ${wAttr} ${hAttr}`);
                            }
                            svg.removeAttribute('width');
                            svg.removeAttribute('height');
                            svg.setAttribute('preserveAspectRatio', 'xMidYMid meet');
                            svg.style.shapeRendering = 'geometricPrecision';
    
                            svg.querySelectorAll('path, polygon, polyline, rect, circle, ellipse, line').forEach(el => {
                                el.setAttribute('fill', 'none');
                                el.setAttribute('stroke', 'white');
                                el.setAttribute('stroke-width', '0.8');
                                el.setAttribute('vector-effect', 'non-scaling-stroke');
                                el.setAttribute('stroke-linejoin', 'round');
                                el.setAttribute('stroke-linecap', 'round');
                            });
    
                            crystal.appendChild(svg);
                        } else {
                            throw new Error('No SVG found');
                        }
                    } else {
                        throw new Error('Failed to fetch SVG');
                    }
                } catch (error) {
                    // Fallback to img tag
                    console.warn(`Using fallback for crystal-${num}.svg:`, error.message);
                    const img = document.createElement('img');
                    img.src = `/static/crystals/svgs/crystal-${num}.svg`;
                    img.alt = `Crystal ${num}`;
                    crystal.appendChild(img);
                }
                
                crystalContainer.appendChild(crystal);
            }
        }
    
        window.addEventListener('DOMContentLoaded', async () => {
            document.querySelector('.fade-bg').classList.add('vignette');
            await spawnCrystalsFixed();
            
            // NO MORE RESIZE LISTENER - crystals are now truly fixed!
        });
    </script>
    <link rel="prefetch" href="index.html" as="document">
    <link rel="prefetch" href="/static/crystals/svgs/crystal-1.svg" as="image">
</head>
<body>
    <div class="fade-bg"></div>
    <div class="container">
        <div class="topbar">
            <div class="brand">CrystalDoor</div>
            <a class="back" href="index.html">← Back</a>
        </div>
        <div class="title-wrap">
            <h1 class="title">Manifesto.</h1>
        </div>
        <div class="subtitle">For those who refuse to optimize for other people's metrics</div>
        <div class="content">
            <p><strong>We are the underground railroad for technical talent.</strong></p>
            <p>CrystalDoor exists to answer the questions that matter—every single one you'd ask yourself when choosing where to spend the next years of your career.</p>
            <p>This isn't a job board. It's market intelligence. Curated insights and data points about where exceptional minds converge, tackle meaningful technical challenges, and accelerate their growth exponentially compared to conventional career paths.</p>
            <p><strong>Our principles:</strong></p>
            <p><strong>Shining light on the right opportunities.</strong> Most small companies where shit gets done fly under your radar. Not anymore.</p>
            <p><strong>Data Scientist is a shallow word.</strong> Being a "senior data scientist" at Accenture means mastering stakeholder management. At a deep-tech startup in Station F, it means architecting ML systems that process terabytes in production. We decode these distinctions for you.</p>
            <p><strong>Your environment shapes your trajectory.</strong> Exponential growth comes from proximity to exceptional talent and mentorship. We'll help you find it.</p>
            <p><strong>Transparency over vagueness.</strong> "Salaire attractif" translates to "55k-70k€ for Juniors." "Environnement dynamique" means "expect 55-hour weeks, but achieve 6 months of learning that would take 3 years at Ekimetrics."</p>
            <p><strong>We inform, we document, we explain.</strong></p>
            <p>Our editorial stance is deliberate. Companies building "Uber pour X" don't make the cut. Teams pioneering human-computer interaction get featured prominence, even if they're three normaliens operating from a 9ème arrondissement garage.</p>
            <p>This platform serves those who optimize for learning and impact over brand recognition. Who recognize that transformative companies start as whispers in small circles, not from La Défense conference rooms.</p>
            <p><strong>Find your optimal match.</strong></p>
        </div>
        <div class="footer-note">Press ← Back to return to the landing.</div>
    </div>
</body>
</html>